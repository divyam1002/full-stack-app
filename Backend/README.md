### Users API

#### POST `/users/register`

-   **Description**: Register a new user and return a signed auth token.
-   **Content-Type**: `application/json`

**Request Body**

```json
{
    "fullName": {
        "firstName": "John",
        "lastName": "Doe" // optional
    },
    "email": "john.doe@example.com",
    "password": "secret123"
}
```

**Validation Rules**

-   **fullName.firstName**: required, string, min length 3
-   **fullName.lastName**: optional, string
-   **email**: required, valid email format
-   **password**: required, string, min length 6

**Responses**

-   **201 Created**

    -   Returned when registration succeeds.
    -   Body:

    ```json
    {
        "token": "<jwt-token>"
    }
    ```

-   **400 Bad Request**

    -   Returned when validation fails (e.g., invalid email, short password, missing fields).
    -   Body shape (from express-validator):

    ```json
    {
        "errors": [
            {
                "type": "field",
                "msg": "Password must be atleast 6 characters long.",
                "path": "password",
                "location": "body"
            }
        ]
    }
    ```

-   **500 Internal Server Error**
    -   Returned when an unexpected server error occurs.

**Notes**

-   The endpoint hashes the provided password before creating the user.
-   On success, the response includes a `token` generated by the user model (JWT or similar).

#### POST `/users/login`

-   **Description**: Authenticate a user and return a signed auth token and user details.
-   **Content-Type**: `application/json`

**Request Body**

```json
{
    "email": "john.doe@example.com",
    "password": "secret123"
}
```

**Validation Rules**

-   **email**: required, valid email format
-   **password**: required, string, min length 6

**Responses**

-   **200 OK**

    -   Returned when authentication succeeds.
    -   Body:

    ```json
    {
        "token": "<jwt-token>",
        "user": {
            "_id": "<user-id>",
            "fullName": {
                "firstName": "John",
                "lastName": "Doe"
            },
            "email": "john.doe@example.com"
        }
    }
    ```

-   **400 Bad Request**

    -   Returned when validation fails (e.g., invalid email, short password).
    -   Body shape (from express-validator):

    ```json
    {
        "error": [
            {
                "type": "field",
                "msg": "Invalid Email.",
                "path": "email",
                "location": "body"
            }
        ]
    }
    ```

-   **401 Unauthorized**

    -   Returned when authentication fails (invalid email or password).
    -   Body:

    ```json
    {
        "message": "Invalid Email or Password"
    }
    ```

-   **500 Internal Server Error**
    -   Returned when an unexpected server error occurs.

**Notes**

-   The endpoint compares the provided password with the hashed password stored in the database.
-   On success, the response includes both a `token` and the authenticated `user` object.
